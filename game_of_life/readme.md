# Learning TDD through Conway's Game of Life

I recently stumbled upon an excellent [article](https://towardsdatascience.com/from-scratch-the-game-of-life-161430453ee3) by Joseph Moukarzel - "From Scratch: The Game of Life", which implements Conway's particular version of cellular automata in Python and Haskell. It is a famous example of how simple rules can give rise to complex behaviors.

On the other hand, I've been thinking a lot how can **Test-Driven development** be applied in data science and started to appreciate its value, especially when going from exploration to production. By writing tests first, given the complexities associated with deploying models, a lot of stupid mistakes can be avoided and changes can be made with more confidence.

By taking the API and design described in the paper, which is sound if I am to extend the library for multiple rules (variations on the game of life), I build a Python package by writing the tests first and following the **Red, Green, Refactor pattern**. An example of the gif generated by the library with the defaults indicated in the paper:


<img src="blaster_automaton.gif" width="300" height="300" align="middle">

**Figure 1:** The blaster pattern. *(Source: Joseph Moukarzel, Reproduced from code)*


### Getting started

Installation in editable mode:

```bash
# if you're to play with the repository
git clone https://github.com/bizovi/cybernetics_done_right

# optional virtual environment
virtualenv venv
source venv/bin/activate

# installs the package in editable mode
cd game_of_life
pip install -e .

# check if it is installed, with dependencies
pip list | grep game
pip list | grep numpy
```

An example of usage is in the [jupyter notebook](https://github.com/Bizovi/Cybernetics_Done_Right/blob/master/game_of_life/Game_of_Life_Simulation.ipynb). The tests are written for `pytest` framework.

```bash
# install pytest if needed
pip install pytest
pip install pytest-cov

pytest  # run the test suite in /tests
pytest --cov  # test coverage report

# Tests passing
# tests/test_game_of_life.py ✓✓✓✓✓✓✓✓✓✓ (100%)

# Coverage report
# Name                         Stmts   Miss  Cover
# ------------------------------------------------
# game.py                         82     13    84%
# tests/test_game_of_life.py      73      0   100%
# ------------------------------------------------
# TOTAL                          155     13    92%
```

```python
import game

SIZE = 200  # size of the grid
ITER = 1000 # number of iterations

rules = game.Rules()  # rules object
initial_state = game.State(game.board_blaster)  # predefined blaster state

game_ = game.Game(initial_state, rules, SIZE) # game object
game_states = game_.run_game(ITER) # running the game

# transform and visualize the results
res = game.results_to_array(game_states, max_size)
game.save_gif(res, filename)
```
